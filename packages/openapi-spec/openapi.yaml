openapi: 3.0.3
info:
  title: NeutralPress API
  description: NeutralPress CMS API 文档
  version: 1.0.0
servers:
  - url: http://localhost:3000
    description: 开发环境
paths:
  /api/admin/audit-logs:
    get:
      summary: 获取审计日志
      description: 需管理员身份，分页获取系统审计日志，支持过滤和排序
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
          description: 页码
        - in: query
          name: pageSize
          schema:
            type: integer
            minimum: 1
            maximum: 500
            default: 10
          description: 每页数量
        - in: query
          name: sortBy
          schema:
            type: string
            enum:
              - id
              - timestamp
              - action
              - resource
              - userUid
          description: 排序字段
        - in: query
          name: sortOrder
          schema:
            type: string
            enum:
              - asc
              - desc
          description: 排序顺序
        - in: query
          name: action
          schema:
            type: string
          description: 按操作类型过滤
        - in: query
          name: resource
          schema:
            type: string
          description: 按资源类型过滤
        - in: query
          name: userUid
          schema:
            type: integer
          description: 按用户UID过滤
        - in: query
          name: startDate
          schema:
            type: string
            format: date-time
          description: 开始日期
        - in: query
          name: endDate
          schema:
            type: string
            format: date-time
          description: 结束日期
        - in: query
          name: search
          schema:
            type: string
          description: 搜索关键词（搜索描述、资源ID、IP地址、User Agent、操作类型、资源类型、用户名等）
      security:
        - BearerAuth: []
      tags:
        - Admin
      responses:
        "200":
          description: 返回审计日志列表
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAuditLogsSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/audit-logs/trends:
    get:
      summary: 获取审计日志趋势数据
      description: 需管理员身份，获取最近N天和最近N次的审计日志趋势数据
      parameters:
        - in: query
          name: days
          schema:
            type: integer
            minimum: 1
            maximum: 365
            default: 30
          description: 获取最近多少天的数据
        - in: query
          name: count
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 30
          description: 获取最近多少次的数据
        - in: query
          name: groupBy
          schema:
            type: string
            enum:
              - action
              - resource
            default: action
          description: 分组方式（按操作类型或资源类型）
      security:
        - BearerAuth: []
      tags:
        - Admin
      responses:
        "200":
          description: 返回审计日志趋势数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAuditTrendsSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/doctor/history:
    get:
      summary: 获取自检历史记录
      description: 需管理员身份，分页获取系统自检历史记录
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
          description: 页码
        - in: query
          name: pageSize
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 10
          description: 每页数量
      security:
        - BearerAuth: []
      tags:
        - Admin
      responses:
        "200":
          description: 返回自检历史记录
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetDoctorHistorySuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/doctor:
    post:
      summary: 运行自检
      description: 自我检查系统的健康状态。带有force参数时，忽略最近24小时内的缓存结果，强制重新运行自检。
      tags: Admin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Doctor"
      responses:
        "200":
          description: 自检完成
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DcotorSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/doctor/trends:
    get:
      summary: 获取自检趋势数据
      description: 需管理员身份，获取最近N天和最近N次的自检趋势数据
      parameters:
        - in: query
          name: days
          schema:
            type: integer
            minimum: 1
            maximum: 365
            default: 30
          description: 获取最近多少天的数据
        - in: query
          name: count
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 30
          description: 获取最近多少次的数据
      security:
        - BearerAuth: []
      tags:
        - Admin
      responses:
        "200":
          description: 返回自检趋势数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetDoctorTrendsSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/settings:
    get:
      summary: 获取所有配置项
      description: 需管理员身份，获取系统所有配置项
      security:
        - BearerAuth: []
      tags:
        - Settings
      responses:
        "200":
          description: 返回所有配置项
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetSettingsSuccessResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/settings/set:
    post:
      summary: 批量更新配置项
      description: 需管理员身份，批量更新系统配置项
      security:
        - BearerAuth: []
      tags:
        - Settings
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - settings
              properties:
                access_token:
                  type: string
                  description: 访问令牌（也可以通过 Authorization header 传递）
                settings:
                  type: array
                  description: 要更新的配置项列表
                  minItems: 1
                  items:
                    type: object
                    required:
                      - key
                      - value
                    properties:
                      key:
                        type: string
                        description: 配置项键名
                        minLength: 1
                      value:
                        description: 配置项值（支持任意 JSON 类型）
            example:
              settings:
                - key: site.title
                  value: 我的网站
                - key: site.description
                  value: 欢迎来到我的网站
                - key: features.comments
                  value: true
      responses:
        "200":
          description: 成功更新配置项
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateSettingsSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BadRequestErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/users/delete:
    post:
      summary: 批量删除用户
      description: 批量软删除用户。只允许管理员操作，不允许删除当前用户。
      tags:
        - Users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - uids
              properties:
                uids:
                  type: array
                  items:
                    type: integer
                  description: 要删除的用户 UID 数组
      responses:
        "200":
          description: 删除成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      deleted:
                        type: integer
                        description: 成功删除的用户数量
        "400":
          description: 请求参数错误
        "401":
          description: 未授权
        "500":
          description: 服务器错误
  /api/admin/users/list:
    get:
      summary: 获取用户列表
      description: 需管理员身份，分页获取用户列表，支持排序、筛选和搜索
      parameters:
        - in: query
          name: page
          schema:
            type: integer
            minimum: 1
            default: 1
          description: 页码
        - in: query
          name: pageSize
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 25
          description: 每页数量
        - in: query
          name: sortBy
          schema:
            type: string
            enum:
              - uid
              - username
              - createdAt
              - lastUseAt
            default: uid
          description: 排序字段
        - in: query
          name: sortOrder
          schema:
            type: string
            enum:
              - asc
              - desc
            default: asc
          description: 排序方式
        - in: query
          name: role
          schema:
            type: string
            enum:
              - USER
              - ADMIN
              - EDITOR
              - AUTHOR
          description: 按角色筛选
        - in: query
          name: status
          schema:
            type: string
            enum:
              - ACTIVE
              - SUSPENDED
              - NEEDS_UPDATE
          description: 按状态筛选
        - in: query
          name: search
          schema:
            type: string
          description: 搜索关键词（用户名、昵称、邮箱）
      security:
        - BearerAuth: []
      tags:
        - Users
      responses:
        "200":
          description: 返回用户列表
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUsersListSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/users/trends:
    get:
      summary: 获取用户增长趋势数据
      description: 需管理员身份，获取最近N天的用户增长趋势数据，包括总用户数、新增用户、活跃用户
      parameters:
        - in: query
          name: days
          schema:
            type: integer
            minimum: 1
            maximum: 365
            default: 30
          description: 获取最近多少天的数据
        - in: query
          name: count
          schema:
            type: integer
            minimum: 1
            maximum: 1000
            default: 30
          description: 数据点数量
      security:
        - BearerAuth: []
      tags:
        - Users
      responses:
        "200":
          description: 返回用户趋势数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUsersTrendsSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/admin/users/update:
    post:
      summary: 批量更新用户信息
      description: |
        批量更新用户信息。只允许管理员操作。
        - 单个用户（uids.length === 1）：可以更改所有字段（除当前用户的角色和状态）
        - 批量更新（uids.length > 1）：只允许更改角色和状态，不允许包含当前用户
      tags:
        - Users
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - uids
              properties:
                uids:
                  type: array
                  items:
                    type: integer
                  description: 要更新的用户 UID 数组
                role:
                  type: string
                  enum:
                    - USER
                    - ADMIN
                    - EDITOR
                    - AUTHOR
                  description: 新的角色（批量更新或单个用户）
                status:
                  type: string
                  enum:
                    - ACTIVE
                    - SUSPENDED
                    - NEEDS_UPDATE
                  description: 新的状态（批量更新或单个用户）
                username:
                  type: string
                  minLength: 1
                  maxLength: 50
                  description: 用户名（仅单个用户编辑）
                nickname:
                  type: string
                  maxLength: 100
                  description: 昵称（仅单个用户编辑）
                email:
                  type: string
                  format: email
                  description: 邮箱地址（仅单个用户编辑）
                avatar:
                  type: string
                  format: uri
                  description: 头像 URL（仅单个用户编辑）
                website:
                  type: string
                  format: uri
                  description: 个人网站（仅单个用户编辑）
                bio:
                  type: string
                  maxLength: 500
                  description: 个人简介（仅单个用户编辑）
                emailVerified:
                  type: boolean
                  description: 邮箱验证状态（仅单个用户编辑）
                emailNotice:
                  type: boolean
                  description: 是否接收邮件通知（仅单个用户编辑）
      responses:
        "200":
          description: 更新成功
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      updated:
                        type: integer
                        description: 成功更新的用户数量
        "400":
          description: 请求参数错误
        "401":
          description: 未授权
        "500":
          description: 服务器错误
  /api/auth/email-verify/resend:
    post:
      summary: 重发邮箱验证码
      description: 重新发送邮箱验证码到用户邮箱，用于邮箱验证
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResendEmailVerification"
      responses:
        "200":
          description: 验证码发送成功（为安全起见，即使用户不存在也返回成功）
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResendEmailVerificationSuccessResponse"
        "400":
          description: 请求参数错误或邮箱已验证
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/EmailAlreadyVerifiedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/email/verify:
    post:
      summary: 邮箱验证
      description: 验证用户邮箱地址
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EmailVerification"
      responses:
        "200":
          description: 邮箱验证成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EmailVerifySuccessResponse"
        "400":
          description: 请求参数错误或验证码无效
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/EmailAlreadyVerifiedErrorResponse"
                  - $ref: "#/components/schemas/InvalidOrExpiredCodeErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/login:
    post:
      summary: 用户登录
      description: 登录并获取 ACCESS_TOKEN 和 REFRESH_TOKEN
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Login"
      responses:
        "200":
          description: 登录成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginSuccessResponse"
        "400":
          description: 请求参数错误或用户状态异常
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/InvalidCredentialsErrorResponse"
                  - $ref: "#/components/schemas/SsoUserErrorResponse"
                  - $ref: "#/components/schemas/EmailNotVerifiedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/logout:
    post:
      summary: 退出登录
      description: 传入 REFRESH_TOKEN 来退出登录。可以通过请求体传递 refresh_token，或在 Cookie 中携带名为
        REFRESH_TOKEN 的令牌。
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Logout"
      responses:
        "200":
          description: 退出登录成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LogoutSuccessResponse"
        "400":
          description: 请求参数错误或刷新令牌无效
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/InvalidCredentialsErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/password/change:
    post:
      summary: 修改密码
      description: 修改用户密码，需要提供旧密码和access_token验证
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChangePassword"
      responses:
        "200":
          description: 密码修改成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChangePasswordSuccessResponse"
        "400":
          description: 请求参数错误或密码验证失败
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/NoPasswordSetErrorResponse"
                  - $ref: "#/components/schemas/InvalidOldPasswordErrorResponse"
                  - $ref: "#/components/schemas/PasswordsIdenticalErrorResponse"
        "401":
          description: 未授权，Access Token 无效或不存在
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/password/request:
    post:
      summary: 请求密码重置
      description: 通过邮箱地址请求密码重置，系统将发送重置链接到用户邮箱
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RequestPasswordReset"
      responses:
        "200":
          description: 密码重置请求成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PasswordResetRequestSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/password/reset:
    post:
      summary: 重置密码
      description: 使用重置码重置用户密码
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResetPassword"
      responses:
        "200":
          description: 密码重置成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResetPasswordSuccessResponse"
        "400":
          description: 请求参数错误或重置码无效
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/InvalidResetCodeErrorResponse"
                  - $ref: "#/components/schemas/ExpiredResetCodeErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/refresh:
    post:
      summary: 令牌刷新
      description: 传入 REFRESH_TOKEN 刷新 ACCESS_TOKEN。可以通过请求体传递 refresh_token，或在 Cookie
        中携带名为 REFRESH_TOKEN 的令牌。
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RefreshToken"
      responses:
        "200":
          description: 令牌刷新成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginSuccessResponse"
        "400":
          description: 请求参数错误或刷新令牌无效
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/ValidationErrorResponse"
                  - $ref: "#/components/schemas/InvalidCredentialsErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/auth/register:
    post:
      summary: 用户注册
      description: 注册新用户
      tags:
        - Auth
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Register"
      responses:
        "200":
          description: 注册成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RegisterSuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "409":
          description: 用户名或邮箱已存在
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConflictErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/captcha/get:
    get:
      summary: 获取验证码
      description: 获取一个新的验证码，客户端需要解决这个PoW才能进行敏感操作
      tags:
        - Captcha
      responses:
        "200":
          description: 成功返回验证码数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CaptchaGetResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/captcha/verify:
    post:
      summary: 验证验证码
      description: 验证传入的验证码是否正确
      tags:
        - Captcha
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CaptchaVerifyRequest"
      responses:
        "200":
          description: 验证成功
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CaptchaVerifySuccessResponse"
        "400":
          description: 请求参数错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/stats/audit:
    get:
      summary: 获取审计日志统计数据
      description: 需管理员身份，获取审计日志统计信息
      parameters:
        - in: query
          name: force
          schema:
            type: boolean
          description: 是否强制刷新缓存
      security:
        - BearerAuth: []
      tags:
        - Audit
      responses:
        "200":
          description: 返回审计日志统计数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAuditStatsSuccessResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
  /api/stats/users:
    get:
      summary: 获取用户统计数据
      description: 需管理员身份，获取用户统计信息
      parameters:
        - in: query
          name: force
          schema:
            type: boolean
          description: 是否强制刷新缓存
      security:
        - BearerAuth: []
      tags:
        - Users
      responses:
        "200":
          description: 返回用户数据
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetUsersStatsSuccessResponse"
        "401":
          description: 未授权，Access Token 无效或不存在，权限不足
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedErrorResponse"
        "429":
          description: 请求过于频繁
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RateLimitErrorResponse"
        "500":
          description: 服务器内部错误
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ServerErrorResponse"
components:
  schemas:
    ApiResponse:
      type: object
      properties:
        success:
          type: boolean
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          nullable: true
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
            details:
              type: object
              additionalProperties: {}
            field:
              type: string
          required:
            - code
            - message
          additionalProperties: false
        meta:
          type: object
          properties:
            page:
              type: number
              minimum: 1
            pageSize:
              type: number
              minimum: 1
              maximum: 100
            total:
              type: number
              minimum: 0
            totalPages:
              type: number
              minimum: 0
            hasNext:
              type: boolean
            hasPrev:
              type: boolean
          required:
            - page
            - pageSize
            - total
            - totalPages
            - hasNext
            - hasPrev
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    ErrorResponse:
      type: object
      properties:
        code:
          type: string
        message:
          type: string
        details:
          type: object
          additionalProperties: {}
        field:
          type: string
      required:
        - code
        - message
      additionalProperties: false
    Pagination:
      type: object
      properties:
        page:
          default: 1
          type: number
          minimum: 1
        pageSize:
          default: 10
          type: number
          minimum: 1
          maximum: 100
        sortBy:
          type: string
        sortOrder:
          default: desc
          type: string
          enum:
            - asc
            - desc
      required:
        - page
        - pageSize
        - sortOrder
      additionalProperties: false
    Login:
      type: object
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 20
          pattern: ^[a-z][a-z0-9_]*$
        password:
          type: string
          minLength: 6
          maxLength: 100
        token_transport:
          default: cookie
          type: string
          enum:
            - cookie
            - body
        captcha_token:
          type: string
          minLength: 1
      required:
        - username
        - password
        - token_transport
        - captcha_token
      additionalProperties: false
    LoginSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            access_token:
              type: string
            refresh_token:
              type: string
            userInfo:
              type: object
              properties:
                uid:
                  type: number
                username:
                  type: string
                nickname:
                  type: string
                role:
                  type: string
                  enum:
                    - USER
                    - ADMIN
                    - EDITOR
                    - AUTHOR
                exp:
                  type: string
                  format: date-time
                  pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
              required:
                - uid
                - username
                - nickname
                - role
              additionalProperties: false
          required:
            - userInfo
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    InvalidCredentialsErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - INVALID_CREDENTIALS
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    SsoUserErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - SSO_USER
            message:
              type: string
            details:
              type: array
              items:
                type: object
                properties:
                  provider:
                    type: string
                required:
                  - provider
                additionalProperties: false
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    EmailNotVerifiedErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - EMAIL_NOT_VERIFIED
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    Register:
      type: object
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 20
          pattern: ^[a-z][a-z0-9_]*$
        nickname:
          type: string
          minLength: 2
          maxLength: 20
        password:
          type: string
          minLength: 6
          maxLength: 100
        email:
          type: string
          format: email
          pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
        captcha_token:
          type: string
          minLength: 1
      required:
        - username
        - password
        - email
        - captcha_token
      additionalProperties: false
    RegisterSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    ConflictErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - USER_EXISTS
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    RefreshToken:
      type: object
      properties:
        refresh_token:
          type: string
        token_transport:
          default: cookie
          type: string
          enum:
            - cookie
            - body
      required:
        - token_transport
      additionalProperties: false
    EmailVerification:
      type: object
      properties:
        code:
          type: string
          minLength: 1
        captcha_token:
          type: string
          minLength: 1
        email:
          type: string
          format: email
          pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
      required:
        - code
        - captcha_token
        - email
      additionalProperties: false
    EmailVerifySuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    ChangePassword:
      type: object
      properties:
        old_password:
          type: string
          minLength: 6
          maxLength: 100
        new_password:
          type: string
          minLength: 6
          maxLength: 100
        access_token:
          type: string
      required:
        - old_password
        - new_password
      additionalProperties: false
    ChangePasswordSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    NoPasswordSetErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - NO_PASSWORD_SET
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    InvalidOldPasswordErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - INVALID_OLD_PASSWORD
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    PasswordsIdenticalErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - PASSWORDS_IDENTICAL
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    RequestPasswordReset:
      type: object
      properties:
        email:
          type: string
          format: email
          pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
        captcha_token:
          type: string
          minLength: 1
      required:
        - email
        - captcha_token
      additionalProperties: false
    PasswordResetRequestSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    ResetPassword:
      type: object
      properties:
        code:
          type: string
          minLength: 1
        new_password:
          type: string
          minLength: 6
          maxLength: 100
        captcha_token:
          type: string
          minLength: 1
      required:
        - code
        - new_password
        - captcha_token
      additionalProperties: false
    ResetPasswordSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    InvalidOrExpiredCodeErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - INVALID_OR_EXPIRED_CODE
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    InvalidResetCodeErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - INVALID_RESET_CODE
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    ExpiredResetCodeErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - EXPIRED_RESET_CODE
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    ResendEmailVerification:
      type: object
      properties:
        email:
          type: string
          format: email
          pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
        captcha_token:
          type: string
          minLength: 1
      required:
        - email
        - captcha_token
      additionalProperties: false
    ResendEmailVerificationSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    EmailAlreadyVerifiedErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - EMAIL_ALREADY_VERIFIED
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    Logout:
      type: object
      properties:
        refresh_token:
          type: string
      additionalProperties: false
    LogoutSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetAuditLogs:
      type: object
      properties:
        access_token:
          type: string
        page:
          default: 1
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
        pageSize:
          default: 10
          type: integer
          exclusiveMinimum: true
          maximum: 500
        sortBy:
          type: string
          enum:
            - id
            - timestamp
            - action
            - resource
            - userUid
        sortOrder:
          type: string
          enum:
            - asc
            - desc
        action:
          type: string
        resource:
          type: string
        userUid:
          type: integer
          minimum: -9007199254740991
          maximum: 9007199254740991
        startDate:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        endDate:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        search:
          type: string
      required:
        - page
        - pageSize
      additionalProperties: false
    GetAuditLogsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
              timestamp:
                type: string
                format: date-time
                pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
              action:
                type: string
              resource:
                type: string
              resourceId:
                type: string
              userUid:
                nullable: true
                type: number
              ipAddress:
                type: string
              userAgent:
                nullable: true
                type: string
              oldData:
                nullable: true
              newData:
                nullable: true
              description:
                nullable: true
                type: string
              user:
                nullable: true
                type: object
                properties:
                  uid:
                    type: number
                  username:
                    type: string
                  nickname:
                    nullable: true
                    type: string
                required:
                  - uid
                  - username
                  - nickname
                additionalProperties: false
            required:
              - id
              - timestamp
              - action
              - resource
              - resourceId
              - userUid
              - ipAddress
              - userAgent
              - oldData
              - newData
              - description
              - user
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetAuditTrends:
      type: object
      properties:
        access_token:
          type: string
        days:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 365
        count:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 1000
        groupBy:
          default: action
          type: string
          enum:
            - action
            - resource
      required:
        - days
        - count
        - groupBy
      additionalProperties: false
    GetAuditTrendsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              time:
                type: string
              data:
                type: object
                additionalProperties:
                  type: number
            required:
              - time
              - data
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    CaptchaGetResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            challenge:
              type: object
              properties:
                c:
                  type: number
                s:
                  type: number
                d:
                  type: number
              required:
                - c
                - s
                - d
              additionalProperties: false
            token:
              type: string
            expires:
              type: number
          required:
            - challenge
            - expires
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    CaptchaVerifyRequest:
      type: object
      properties:
        token:
          type: string
          minLength: 1
        solutions:
          minItems: 1
          type: array
          items:
            type: number
            minimum: 0
      required:
        - token
        - solutions
      additionalProperties: false
    CaptchaVerifySuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            success:
              type: boolean
            message:
              type: string
          required:
            - success
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    Doctor:
      type: object
      properties:
        access_token:
          type: string
        force:
          default: false
          type: boolean
      required:
        - force
      additionalProperties: false
    DcotorSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            createdAt:
              type: string
              format: date-time
              pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
            issues:
              type: array
              items:
                type: object
                properties:
                  code:
                    type: string
                  message:
                    type: string
                  severity:
                    type: string
                    enum:
                      - info
                      - warning
                      - error
                  details:
                    type: string
                required:
                  - code
                  - message
                  - severity
                additionalProperties: false
          required:
            - createdAt
            - issues
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetDoctorHistory:
      type: object
      properties:
        access_token:
          type: string
        page:
          default: 1
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
        pageSize:
          default: 10
          type: integer
          exclusiveMinimum: true
          maximum: 500
        sortBy:
          type: string
          enum:
            - id
            - createdAt
            - errorCount
            - warningCount
        sortOrder:
          type: string
          enum:
            - asc
            - desc
      required:
        - page
        - pageSize
      additionalProperties: false
    GetDoctorHistorySuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: number
              createdAt:
                type: string
                format: date-time
                pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
              issues:
                type: array
                items:
                  type: object
                  properties:
                    code:
                      type: string
                    message:
                      type: string
                    severity:
                      type: string
                      enum:
                        - info
                        - warning
                        - error
                    details:
                      type: string
                  required:
                    - code
                    - message
                    - severity
                  additionalProperties: false
            required:
              - id
              - createdAt
              - issues
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetDoctorTrends:
      type: object
      properties:
        access_token:
          type: string
        days:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 365
        count:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 1000
      required:
        - days
        - count
      additionalProperties: false
    GetDoctorTrendsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              time:
                type: string
              data:
                type: object
                properties:
                  info:
                    type: number
                  warning:
                    type: number
                  error:
                    type: number
                required:
                  - info
                  - warning
                  - error
                additionalProperties: false
            required:
              - time
              - data
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    RateLimitErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - TOO_MANY_REQUESTS
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    ServerErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - INTERNAL_SERVER_ERROR
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    UnauthorizedErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - UNAUTHORIZED
            message:
              type: string
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    ValidationErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - false
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: string
          nullable: true
          enum:
            - null
        error:
          type: object
          properties:
            code:
              type: string
              enum:
                - VALIDATION_ERROR
            message:
              type: string
            details:
              type: array
              items:
                type: object
                properties:
                  field:
                    type: string
                  message:
                    type: string
                required:
                  - field
                  - message
                additionalProperties: false
          required:
            - code
            - message
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
        - error
      additionalProperties: false
    GetSettings:
      type: object
      properties:
        access_token:
          type: string
      additionalProperties: false
    GetSettingsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              key:
                type: string
              value: {}
              description:
                nullable: true
                type: string
              updatedAt:
                type: string
            required:
              - key
              - value
              - description
              - updatedAt
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    UpdateSettings:
      type: object
      properties:
        access_token:
          type: string
        settings:
          minItems: 1
          type: array
          items:
            type: object
            properties:
              key:
                type: string
                minLength: 1
              value: {}
            required:
              - key
              - value
            additionalProperties: false
      required:
        - settings
      additionalProperties: false
    UpdateSettingsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            updated:
              type: integer
              minimum: 0
              maximum: 9007199254740991
          required:
            - updated
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetUsersStats:
      type: object
      properties:
        access_token:
          type: string
        force:
          default: false
          type: boolean
      required:
        - force
      additionalProperties: false
    GetUsersStatsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            updatedAt:
              type: string
              format: date-time
              pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
            cache:
              type: boolean
            total:
              type: object
              properties:
                total:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                user:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                admin:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                editor:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                author:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
              required:
                - total
                - user
                - admin
                - editor
                - author
              additionalProperties: false
            active:
              type: object
              properties:
                lastDay:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last7Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last30Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
              required:
                - lastDay
                - last7Days
                - last30Days
              additionalProperties: false
            new:
              type: object
              properties:
                lastDay:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last7Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last30Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
              required:
                - lastDay
                - last7Days
                - last30Days
              additionalProperties: false
          required:
            - updatedAt
            - cache
            - total
            - active
            - new
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetAuditStats:
      type: object
      properties:
        access_token:
          type: string
        force:
          default: false
          type: boolean
      required:
        - force
      additionalProperties: false
    GetAuditStatsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            updatedAt:
              type: string
              format: date-time
              pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
            cache:
              type: boolean
            total:
              type: object
              properties:
                logs:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                activeUsers:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
              required:
                - logs
                - activeUsers
              additionalProperties: false
            recent:
              type: object
              properties:
                lastDay:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last7Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
                last30Days:
                  type: integer
                  minimum: 0
                  maximum: 9007199254740991
              required:
                - lastDay
                - last7Days
                - last30Days
              additionalProperties: false
          required:
            - updatedAt
            - cache
            - total
            - recent
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetUsersTrends:
      type: object
      properties:
        access_token:
          type: string
        days:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
        count:
          default: 30
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
      required:
        - days
        - count
      additionalProperties: false
    GetUsersTrendsSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              time:
                type: string
              data:
                type: object
                properties:
                  total:
                    type: integer
                    minimum: 0
                    maximum: 9007199254740991
                  new:
                    type: integer
                    minimum: 0
                    maximum: 9007199254740991
                  active:
                    type: integer
                    minimum: 0
                    maximum: 9007199254740991
                required:
                  - total
                  - new
                  - active
                additionalProperties: false
            required:
              - time
              - data
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    GetUsersList:
      type: object
      properties:
        access_token:
          type: string
        page:
          default: 1
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
        pageSize:
          default: 25
          type: integer
          exclusiveMinimum: true
          maximum: 9007199254740991
        sortBy:
          default: uid
          type: string
          enum:
            - uid
            - username
            - createdAt
            - lastUseAt
        sortOrder:
          default: asc
          type: string
          enum:
            - asc
            - desc
        role:
          type: string
          enum:
            - USER
            - ADMIN
            - EDITOR
            - AUTHOR
        status:
          type: string
          enum:
            - ACTIVE
            - SUSPENDED
            - NEEDS_UPDATE
        search:
          type: string
      required:
        - page
        - pageSize
        - sortBy
        - sortOrder
      additionalProperties: false
    GetUsersListSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: array
          items:
            type: object
            properties:
              uid:
                type: integer
                minimum: -9007199254740991
                maximum: 9007199254740991
              email:
                type: string
                format: email
                pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
              emailVerified:
                type: boolean
              emailNotice:
                type: boolean
              username:
                type: string
              nickname:
                nullable: true
                type: string
              website:
                nullable: true
                type: string
              bio:
                nullable: true
                type: string
              avatar:
                nullable: true
                type: string
              createdAt:
                type: string
              lastUseAt:
                type: string
              role:
                type: string
                enum:
                  - USER
                  - ADMIN
                  - EDITOR
                  - AUTHOR
              status:
                type: string
                enum:
                  - ACTIVE
                  - SUSPENDED
                  - NEEDS_UPDATE
            required:
              - uid
              - email
              - emailVerified
              - emailNotice
              - username
              - nickname
              - website
              - bio
              - avatar
              - createdAt
              - lastUseAt
              - role
              - status
            additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    UpdateUsers:
      type: object
      properties:
        access_token:
          type: string
        uids:
          minItems: 1
          type: array
          items:
            type: integer
            exclusiveMinimum: true
            maximum: 9007199254740991
        role:
          type: string
          enum:
            - USER
            - ADMIN
            - EDITOR
            - AUTHOR
        status:
          type: string
          enum:
            - ACTIVE
            - SUSPENDED
            - NEEDS_UPDATE
        username:
          type: string
          minLength: 1
          maxLength: 50
        nickname:
          type: string
          maxLength: 100
        email:
          type: string
          format: email
          pattern: ^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$
        avatar:
          anyOf:
            - type: string
              format: uri
            - type: string
              enum:
                - ""
        website:
          anyOf:
            - type: string
              format: uri
            - type: string
              enum:
                - ""
        bio:
          type: string
          maxLength: 500
        emailVerified:
          type: boolean
        emailNotice:
          type: boolean
      required:
        - uids
      additionalProperties: false
    UpdateUsersSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            updated:
              type: integer
              minimum: 0
              maximum: 9007199254740991
          required:
            - updated
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
    DeleteUsers:
      type: object
      properties:
        access_token:
          type: string
        uids:
          minItems: 1
          type: array
          items:
            type: integer
            exclusiveMinimum: true
            maximum: 9007199254740991
      required:
        - uids
      additionalProperties: false
    DeleteUsersSuccessResponse:
      type: object
      properties:
        success:
          type: boolean
          enum:
            - true
        message:
          type: string
        timestamp:
          type: string
          format: date-time
          pattern: ^(?:(?:\d\d[2468][048]|\d\d[13579][26]|\d\d0[48]|[02468][048]00|[13579][26]00)-02-29|\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\d|30)|(?:02)-(?:0[1-9]|1\d|2[0-8])))T(?:(?:[01]\d|2[0-3]):[0-5]\d(?::[0-5]\d(?:\.\d+)?)?(?:Z))$
        requestId:
          type: string
        data:
          type: object
          properties:
            deleted:
              type: integer
              minimum: 0
              maximum: 9007199254740991
          required:
            - deleted
          additionalProperties: false
      required:
        - success
        - message
        - timestamp
        - requestId
        - data
      additionalProperties: false
