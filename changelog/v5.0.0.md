本次更新完全重构了架构，目前我们已经将其完全转换为动态站点，所有配置/数据均存储在数据库中，并在修改时实时生效。此外，仅当内容变更时，NeutralPress 才会使用动态增量再生（ISR）技术重新生成发生更改的页面，而在内容未变更时，页面与静态页面类似。这既确保内容可实时更新，又能享受静态页面的高性能、SEO友好和低成本优势。

同时，我们更换了项目命名。以前的项目只是一个静态站点的主题，因此叫做 RTheme。而从 v4 版本开始，我们逐渐将其重写为了一套动态 CMS 系统。因此，旧的项目名已经不再能反映项目的真实含义。

项目将被重命名为 NeutralPress，寓意中立、平衡、包容，象征着我们希望它能成为一个开放、灵活、强大的内容管理系统，且在设计上克制、简约、中性化，适用于各种类型的内容创作者和受众。

## 主要更新内容

- 行云流水的内容系统，所见即所得、支持 Markdown / MDX 可视化编辑、草稿箱、版本管理，内置 SEO 深度优化。
- 独具匠心的页面系统，支持拖拽组件、实时预览，也可使用 HTML / Markdown / MDX 新建页面。
- 井井有条的归档系统，以标签和分类两个维度对文章进行组织，支持
- 强大的媒体管理系统，自动压缩、图片优化、防盗链、短链接、照片墙、Exif 信息展示。
- 多用户权限管理系统，支持多角色、多权限分配，支持访客注册、 Github / Google / Microsoft OAuth 登录、Passkey 登录、TOTP 双因素认证、会话管理、敏感操作二次验证。
- 毫不妥协的安全系统，内置速率限制 WAF、IP 封禁系统，重要端点自带 PoW 验证码，并使用 Server Action 代替 API 通信以增强安全性。
- 详细的访问统计系统，内置访客分析、搜索关键词与全站关键词对比、访客来源、设备分析、文章热度分析等，自动发送日报/周报/月报。
- 无限层级的评论系统，支持嵌套回复、评论审核、评论点赞，内置评论反垃圾系统。
- 事无巨细的审计系统，记录每一次内容更改，所有操作可追溯、可还原。
- 洞察秋毫的搜索系统，高性能分词与索引，专为中文内容及编程术语进行了优化。后续将支持AI向量搜索。
- 即时通达的通讯系统，基于 WebSocket ，支持实时私信、在线 / 输入状态显示等。后续将支持端对端加密私聊。
- 无远弗届的通知系统，整合站内信、Email、WebPush 推送，支持精细化的通知订阅策略。
- 兼容并蓄的订阅系统，支持 RSS ，支持邮件通讯录订阅。
- 别出心裁的作品系统，独立于文章的展示维度，专为项目展示设计的网格布局与详情页、GitHub 仓库卡片同步。
- 守望相助的友链系统，支持友链自助申请、自动抓取元信息、健康度巡检，自动标记或隐藏失效链接。
- 海纳百川的存储系统，同时支持本地文件系统、AWS S3、Cloudflare R2、Vercel Blob 、OSS，甚至 Github Pages 。多种对象存储策略可并存，切换自如。
- 防微杜渐的诊断系统，支持定时健康检查、性能分析，自动优化。即使在 Serverless 环境下，也能正常执行定时任务。

与前代 RTheme V4 相比，此版本增加了对后台管理功能的全面支持，并重构了沿用 5 年的项目 UI，使其更适应现代化网站设计。此外，我们还修改了路由架构，允许用户自行创建页面、修改页面布局，并在未来支持区块插件系统，允许导入第三方区块来构建页面。

本次更新开始支持 docker compose 部署。详情请查看文档 [https://neutralpress.net](https://neutralpress.net) 。我们还增加了完善的自动更新系统，支持 Github Fork 仓库和 Docker 部署方式的自动更新。

此版本开始，我们额外需要 Redis 数据库来运行，以保证较高的性能。请参考文档中的部署说明进行安装。

## 注意事项

此次更新不兼容 v4 版本，且由于大范围架构重写，数据无法迁移。如果你想升级到 v5，请先备份数据，并按照文档说明进行全新安装。
